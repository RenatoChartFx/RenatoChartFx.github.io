(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{567:function(t,e,o){var content=o(579);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(28).default)("15216d2c",content,!0,{sourceMap:!1})},568:function(t,e,o){"use strict";o.r(e);o(54),o(59),o(39),o(72),o(65),o(31),o(11),o(80),o(64),o(86),o(23),o(87);var n={name:"SettingsControl",props:{setting:{type:Object,default:null},onChange:{type:Function,default:function(){}}},data:function(){return{controlValue:null,updateTimer:null}},computed:{settingValue:function(){switch(this.setting.Type){case"resource":case"select":default:return this.setting.StringValue;case"checkbox":return Boolean(Number(this.setting.StringValue))}},loading:{get:function(){return this.$store.getters["app/loading"]},set:function(t){this.$store.dispatch("app/onSetLoading",t)}},selectedProductSettings:{get:function(){return this.$store.getters["app/selectedProductSettings"]},set:function(t){this.$store.dispatch("app/onSetSelectedProductSettings",t)}},resourceOptions:function(){var t=this;if("resource"==this.setting.Type){var e=this.setting.SelectionOptions.split(","),o=[];return e.forEach((function(e){if(e){var n=t.separateResourceValue(e);o.push(n)}})),o}return this.setting.SelectionOptions.split("!*!")}},watch:{controlValue:function(t,e){var o=this;null!=e&&e!=t&&("SP_IMAGE"==this.setting.NameTag&&(this.loading=!0),clearTimeout(o.updateTimer),o.updateTimer=setTimeout((function(){o.onChange()}),100))}},beforeMount:function(){this.controlValue=this.settingValue},methods:{sectionChildSettingsById:function(t){return this.selectedProductSettings?this.selectedProductSettings.filter((function(e){return e.ParentId==t})):null},separateResourceValue:function(t){var e=t;return{Label:e.slice(1,e.indexOf(":")),Value:e.slice(e.indexOf(":")+1,e.length-1)}},getResourceURLfromString:function(t){return 0===t.indexOf("{")?this.separateResourceValue(t).Value:t}}},r=(o(578),o(8)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return t.setting?e("div",[e("div",{staticClass:"d-flex flex-row flex-nowrap align-items-end"},["resource"==t.setting.Type?e("div",{staticClass:"w-25 me-2 ratio ratio-1x1",staticStyle:{"background-position":"center center","background-size":"cover"},style:"background-image: url("+t.getResourceURLfromString(t.controlValue)+")"}):t._e(),t._v(" "),e("div",{staticClass:"flex-grow-0"},[t.setting.Icon?[t.setting.Icon.includes("tidal")?e("img",{staticStyle:{width:"18px","margin-bottom":"6px","margin-right":"8px"},attrs:{src:"songtools/img/icons/tidal.svg",alt:""}}):e("FontAwesomeIcon",{staticClass:"text-gray-500",staticStyle:{width:"18px",height:"18px","margin-right":"8px","margin-bottom":"6px","line-height":"100%"},attrs:{icon:String(t.setting.Icon).replace(" ","").split(",")}})]:t._e()],2),t._v(" "),e("div",{staticClass:"flex-grow-1 d-flex flex-column pe-2"},["checkbox"!=t.setting.Type?[e("label",{staticClass:"form-label d-6 my-0 mt-1",class:{"fw-bold":""==t.setting.ParentId}},[t._v(t._s(t.setting.Description))])]:t._e(),t._v(" "),"label"==t.setting.Type?[e("input",{directives:[{name:"model",rawName:"v-model",value:t.controlValue,expression:"controlValue"}],staticClass:"form-control setting-label",attrs:{id:"setting_"+t.setting.Id,type:"text",disabled:"",placeholder:t.setting.Description+"..."},domProps:{value:t.controlValue},on:{input:function(e){e.target.composing||(t.controlValue=e.target.value)}}})]:"resource"==t.setting.Type?[e("select",{directives:[{name:"model",rawName:"v-model",value:t.controlValue,expression:"controlValue"}],staticClass:"setting-resource form-select",attrs:{id:"setting_"+t.setting.Id},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.controlValue=e.target.multiple?o:o[0]}}},[e("option",{attrs:{disabled:""}},[t._v("\n            Select Resource...\n          ")]),t._v(" "),t.resourceOptions.length>0?t._l(t.resourceOptions,(function(o,n){return e("option",{key:"resourceOption"+n,domProps:{value:"{"+o.Label+":"+o.Value+"}"}},[t._v("\n              "+t._s(o.Label)+"\n            ")])})):t._e()],2)]:"select"==t.setting.Type?[e("select",{directives:[{name:"model",rawName:"v-model",value:t.controlValue,expression:"controlValue"}],staticClass:"setting-resource form-select",attrs:{id:"setting_"+t.setting.Id},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.controlValue=e.target.multiple?o:o[0]}}},[t.resourceOptions.length>0?[e("option",[t._v("Select...")]),t._v(" "),t._l(t.resourceOptions,(function(o,n){return e("option",{key:"resourceOption"+n,domProps:{value:o}},[t._v("\n              "+t._s(o)+"\n            ")])}))]:t._e()],2)]:"textarea"==t.setting.Type?[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.controlValue,expression:"controlValue"}],staticClass:"form-control",attrs:{id:"setting_"+t.setting.Id,rows:"3"},domProps:{value:t.controlValue},on:{input:function(e){e.target.composing||(t.controlValue=e.target.value)}}})]:"checkbox"==t.setting.Type?[e("span",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.controlValue,expression:"controlValue"}],staticClass:"form-checkbox-input",attrs:{id:"setting_"+t.setting.Id,type:"checkbox"},domProps:{checked:Array.isArray(t.controlValue)?t._i(t.controlValue,null)>-1:t.controlValue},on:{change:function(e){var o=t.controlValue,n=e.target,r=!!n.checked;if(Array.isArray(o)){var l=t._i(o,null);n.checked?l<0&&(t.controlValue=o.concat([null])):l>-1&&(t.controlValue=o.slice(0,l).concat(o.slice(l+1)))}else t.controlValue=r}}}),t._v(" "),e("label",{staticClass:"form-label d-6 p-1 mb-0",class:{"fw-bold":""==t.setting.ParentId}},[t._v(t._s(t.setting.Description))])])]:["checkbox"===t.setting.Type?e("input",{directives:[{name:"model",rawName:"v-model",value:t.controlValue,expression:"controlValue"}],staticClass:"form-control",attrs:{id:"setting_"+t.setting.Id,type:"checkbox"},domProps:{checked:Array.isArray(t.controlValue)?t._i(t.controlValue,null)>-1:t.controlValue},on:{change:function(e){var o=t.controlValue,n=e.target,r=!!n.checked;if(Array.isArray(o)){var l=t._i(o,null);n.checked?l<0&&(t.controlValue=o.concat([null])):l>-1&&(t.controlValue=o.slice(0,l).concat(o.slice(l+1)))}else t.controlValue=r}}}):"radio"===t.setting.Type?e("input",{directives:[{name:"model",rawName:"v-model",value:t.controlValue,expression:"controlValue"}],staticClass:"form-control",attrs:{id:"setting_"+t.setting.Id,type:"radio"},domProps:{checked:t._q(t.controlValue,null)},on:{change:function(e){t.controlValue=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.controlValue,expression:"controlValue"}],staticClass:"form-control",attrs:{id:"setting_"+t.setting.Id,type:t.setting.Type},domProps:{value:t.controlValue},on:{input:function(e){e.target.composing||(t.controlValue=e.target.value)}}})]],2)]),t._v(" "),t.sectionChildSettingsById(t.setting.Id)&&t.sectionChildSettingsById(t.setting.Id).length>0?e("div",{staticClass:"pb-2 ps-3 section-divider pt-2 my-1",class:{collapsed:0==t.controlValue}},t._l(t.sectionChildSettingsById(t.setting.Id),(function(o,n){return e("SongtoolsSettingsControl",{key:"subsettings"+t.setting.Id+"_"+n,attrs:{setting:o,"on-change":t.onChange}})})),1):t._e()]):t._e()}),[],!1,null,"5ed64ead",null);e.default=component.exports;installComponents(component,{SongtoolsSettingsControl:o(568).default})},578:function(t,e,o){"use strict";o(567)},579:function(t,e,o){var n=o(27)(!1);n.push([t.i,".product-settings-panel .section-divider[data-v-5ed64ead]{border-top:1px solid rgba(0,0,0,.7)!important;border-bottom:1px solid rgba(0,0,0,.7)!important;transition:all .3s ease-out;overflow:hidden}.product-settings-panel .section-divider.collapsed[data-v-5ed64ead]{height:0;opacity:0;padding-bottom:0!important;padding-top:0!important;margin-bottom:0!important;margin-top:0!important}.product-settings-panel .section-divider .section-divider[data-v-5ed64ead]{border-bottom:none!important}.product-settings-panel .form-control[data-v-5ed64ead],.product-settings-panel .form-select[data-v-5ed64ead]{background-color:rgba(0,0,0,.3);border-color:rgba(0,0,0,.3);color:#dee2e0}.product-settings-panel .form-control[data-v-5ed64ead]:focus,.product-settings-panel .form-select[data-v-5ed64ead]:focus{background-color:rgba(0,0,0,.72);color:#f9fafa}",""]),t.exports=n}}]);