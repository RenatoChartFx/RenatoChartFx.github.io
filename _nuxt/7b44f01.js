(window.webpackJsonp=window.webpackJsonp||[]).push([[13,11,12],{627:function(t,e,n){var content=n(735);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("d4cd9ade",content,!0,{sourceMap:!1})},628:function(t,e,n){var content=n(737);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("859c2a2c",content,!0,{sourceMap:!1})},629:function(t,e,n){var content=n(739);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("572fccc0",content,!0,{sourceMap:!1})},734:function(t,e,n){"use strict";n(627)},735:function(t,e,n){var o=n(27)(!1);o.push([t.i,".community-activity-container[data-v-5e960fe2]{font-size:.85rem;line-height:1.5rem;padding:.5rem;color:#b7b7b7}.community-activity-container .cta[data-v-5e960fe2]{display:none;opacity:0;transition:opacity 40ms ease-in}.community-activity-container .cta button[data-v-5e960fe2]{background-color:transparent}.community-activity-container[data-v-5e960fe2]:hover{background-color:rgba(245,245,244,.05)}.community-activity-container:hover .cta[data-v-5e960fe2]{opacity:1}.community-activity-container .feed-avatar[data-v-5e960fe2]{position:relative;width:50px}.community-activity-container .feed-avatar .avatar[data-v-5e960fe2]{width:30px;height:30px;border-radius:100px;border:2px solid #4b4b4b;background-size:cover;position:relative;z-index:1;cursor:pointer}.community-activity-container .feed-avatar .avatar[data-v-5e960fe2]:hover{z-index:999;border-color:#f5f5f4}.community-activity-container .feed-avatar .avatar-recipient[data-v-5e960fe2]{position:absolute;top:10px;left:10px}.community-activity-container .action-date[data-v-5e960fe2]{opacity:.4;align-self:flex-start;padding:.5rem 0 0;font-size:.6rem;text-align:left}.community-activity-container .community-icon[data-v-5e960fe2]{position:absolute;top:18px;z-index:2;left:-3px;color:#181818;background-color:hsla(0,0%,44.3%,.7);border-radius:100px;text-align:center;height:12px;width:12px;display:flex;flex-flow:column nowrap;align-content:center;align-items:center;justify-content:center;padding:4px}.community-activity-container .community-icon .icon[data-v-5e960fe2]{margin:0;padding:0}.community-activity-container .activity[data-v-5e960fe2]{line-height:175%}.community-activity-container .activity .span[data-v-5e960fe2]{display:inline-block}.community-activity-container .note[data-v-5e960fe2]{color:hsla(0,0%,91.8%,.5);font-style:italic;padding:.5rem .75rem .5rem .5rem;border-radius:5px;background-color:rgba(24,24,24,.1);font-size:.75rem;line-height:1rem;height:auto;max-height:2.5rem;transition:all 1s ease-out;overflow:hidden;text-overflow:ellipsis;display:inline-block;position:relative}.community-activity-container .note .icon-more[data-v-5e960fe2]{position:absolute;bottom:0;right:3px}.community-activity-container .note[data-v-5e960fe2]:hover{max-height:none;height:auto}.community-activity-container .note:hover .icon-more[data-v-5e960fe2]{display:none}.community-activity-container .note .icon[data-v-5e960fe2]{font-size:.8rem;margin:0;color:#4b4b4b}.community-activity-container .note .icon[data-v-5e960fe2]:first-child{margin-right:5px}.community-activity-container .note .icon[data-v-5e960fe2]:last-child{margin-left:5px}.community-activity-container .ext-link[data-v-5e960fe2]{color:#4b4b4b;margin:0 5px 0 2px;font-size:12px}.community-activity-container .song-name[data-v-5e960fe2]{font-style:italic;background-color:rgba(24,24,24,.2);border-radius:100px;padding:0 3px;margin:0 3px}.community-activity-container .artist-name[data-v-5e960fe2],.community-activity-container .playlist-name[data-v-5e960fe2],.community-activity-container .song-name[data-v-5e960fe2]{font-weight:500;display:inline;cursor:pointer}.community-activity-container .artist-name[data-v-5e960fe2]:hover,.community-activity-container .playlist-name[data-v-5e960fe2]:hover,.community-activity-container .song-name[data-v-5e960fe2]:hover{text-decoration:underline}",""]),t.exports=o},736:function(t,e,n){"use strict";n(628)},737:function(t,e,n){var o=n(27)(!1);o.push([t.i,'label.sponsored[data-v-64db6b23]{font-size:.5rem;text-transform:uppercase;color:rgba(245,245,244,.5);position:absolute;right:5px;top:5px;line-height:100%}.note[data-v-64db6b23]{margin:-.25rem .25rem .25rem;color:hsla(0,0%,91.8%,.95);font-style:italic;padding:.5rem .75rem .5rem .5rem;border-radius:0 0 5px 5px;background-color:#181818;font-size:.75rem;line-height:1rem;height:auto;text-overflow:ellipsis;display:inline-block;position:relative;text-align:center}.note .icon[data-v-64db6b23]{font-size:.8rem;margin:0;color:#4b4b4b}.note .icon[data-v-64db6b23]:first-child{margin-right:5px}.note .icon[data-v-64db6b23]:last-child{margin-left:5px}.animated[data-v-64db6b23],.community-activity-container .track-cover[data-v-64db6b23],.fade-enter-active[data-v-64db6b23],.fade-leave-active[data-v-64db6b23]{transition:all .5s}.fade-enter[data-v-64db6b23],.fade-leave-to[data-v-64db6b23]{height:0!important}.feed-avatar[data-v-64db6b23]{position:relative;width:50px}.feed-avatar .avatar[data-v-64db6b23]{width:30px;height:30px;border-radius:100px;border:2px solid #4b4b4b;background-size:cover}.community-activity-container[data-v-64db6b23]{font-size:.75rem;line-height:1.5rem;padding:1rem .5rem .5rem;background-color:#181818;position:relative;overflow:hidden;color:#f5f5f4}.community-activity-container .cta[data-v-64db6b23]{opacity:0;transition:opacity 40ms ease-in}.community-activity-container .cta button[data-v-64db6b23]{background-color:transparent}.community-activity-container.hovered[data-v-64db6b23],.community-activity-container[data-v-64db6b23]:hover{height:auto;background-color:rgba(245,245,244,.05)}.community-activity-container.hovered .cta[data-v-64db6b23],.community-activity-container:hover .cta[data-v-64db6b23]{opacity:1}.community-activity-container.hovered .track-cover[data-v-64db6b23],.community-activity-container:hover .track-cover[data-v-64db6b23]{cursor:pointer;border-radius:5px 5px 0 0;min-height:240px}.community-activity-container .bg-image[data-v-64db6b23]{position:absolute;top:0;bottom:0;left:0;right:0;filter:blur(20px);background-repeat:no-repeat;background-position:50%;background-size:cover;z-index:1;opacity:.5}.community-activity-container .bg-image[data-v-64db6b23]:before{content:"";position:absolute;z-index:2;left:0;right:0;top:0;bottom:0;background:linear-gradient(0deg,rgba(0,0,0,.75),transparent)}.community-activity-container .action-date[data-v-64db6b23]{opacity:.4;align-self:flex-start;padding:.5rem 0 0;font-size:.6rem;text-align:left}.community-activity-container .track-container[data-v-64db6b23]{flex:1;display:flex;flex-flow:column nowrap;position:relative;overflow:hidden;margin:5px;min-height:80px}.community-activity-container .feed-avatar[data-v-64db6b23],.community-activity-container .track-container[data-v-64db6b23]{z-index:10}.community-activity-container .ext-link[data-v-64db6b23]{color:hsla(0,0%,91.8%,.75);margin:0 5px 0 2px;font-size:12px}.community-activity-container .song-name[data-v-64db6b23]{font-style:italic;background-color:rgba(24,24,24,.2);border-radius:100px;padding:0 3px;margin:0 3px}.community-activity-container .artist-name[data-v-64db6b23],.community-activity-container .playlist-name[data-v-64db6b23],.community-activity-container .song-name[data-v-64db6b23]{font-weight:500;display:inline;cursor:pointer}.community-activity-container .artist-name[data-v-64db6b23]:hover,.community-activity-container .playlist-name[data-v-64db6b23]:hover,.community-activity-container .song-name[data-v-64db6b23]:hover{text-decoration:underline}.community-activity-container .info[data-v-64db6b23]{z-index:2}.community-activity-container .track-cover[data-v-64db6b23]{flex:1;background-position:50%;background-size:cover;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;min-height:60px;border-radius:2px}.community-activity-container .track-cover .roundbtn[data-v-64db6b23]{border-radius:100px;background-color:rgba(24,24,24,.5);width:30px;height:30px;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;text-align:center;cursor:pointer}.community-activity-container .track-cover .roundbtn .icon[data-v-64db6b23]{margin:0;padding:0}.hovered .track-cover .roundbtn[data-v-64db6b23]{background-color:rgba(24,24,24,.75)}',""]),t.exports=o},738:function(t,e,n){"use strict";n(629)},739:function(t,e,n){var o=n(27)(!1);o.push([t.i,".community-activity-container .song-bar-container{flex:1}",""]),t.exports=o},759:function(t,e,n){var content=n(846);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("5a5d6a0f",content,!0,{sourceMap:!1})},799:function(t,e,n){"use strict";n.r(e);n(41),n(32),n(31),n(55),n(56);var o=n(18),r=(n(11),n(73),n(54),n(59),n(39),n(72),n(137),n(23),n(185),n(34));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l={name:"CommunityActivity",components:{},props:{activity:Object},data:function(){return{now:null}},computed:d(d(d({},Object(r.c)("user",["user"])),Object(r.c)("app",["playlisterTiers","selectedPlaylister"])),{},{activityDate:function(){var t=this.activity.CreatedOn.toString();t.includes("PM")&&(t.includes(" PM")||(t=t.replace("PM"," PM"))),t.includes("AM")&&(t.includes(" AM")||(t=t.replace("AM"," AM")));var e=new Date(Date.parse(t));this.now||(this.now=new Date);var n=new Date(this.now.valueOf()+6e4*this.now.getTimezoneOffset());navigator.userAgent.match(/MSIE\s([^;]*)/)&&(e=Date.parse(t.replace(/( \+)/," UTC$1")));var o=Math.floor((n-e)/1e3);return o<5?"just now":o<60?"".concat(o,"s ago"):o<=3540?"".concat(Math.round(o/60),"m ago"):o<=86400?"".concat(Math.round(o/3600),"h ago"):o<604800?"".concat(Math.round(o/86400),"d ago"):o<=777600?"1w ago":o<=12441600?"".concat(Math.ceil(o/604800),"w ago"):e.toLocaleDateString()},doDisplay:function(){var t=this,e=!0;return t.activity.CommunityTag&&""!==t.activity.CommunityTag||(e=!1),"SignUp"===t.activity.Type&&""===t.activity.UserName&&(e=!1),e},computedChatIcon:function(){var t=null;switch(this.activity.Type){case"SongAdded":case"Placement":t="map-marker-plus";break;case"Review":t="analytics";break;case"RadarAdded":t="radar";break;case"Listen":default:t="headphones";break;case"Trade":case"TradeProposal":t="exchange-alt";break;case"SignUp":t="user-plus"}return t},computedUser:function(){var t=this.activity;return{Image:t.UserAvatar,Id:t.Userid,Followers:t.UserFollowers,SpotifyArtistId:t.SpotifyPlaylisterId,UserTier:t.UserTier,Name:t.UserName,ARMember:t.ARMember}},computedSignUpUser:function(){var t=this.activity;return{Image:t.UserAvatar,Id:t.Userid,Followers:t.UserFollowers,SpotifyArtistId:t.SpotifyPlaylisterId,Name:t.UserName,UserTier:t.UserTier,ARMember:t.ARMember}},computedRecipientUser:function(){var t=this.activity;return{Image:t.RecipientUserAvatar,Id:t.RecipientUserId,Followers:t.RecipientFollowers,SpotifyArtistId:t.RecipientSpotifyPlaylisterId,UserTier:t.RecipientUserTier,Name:t.RecipientUserName,ARMember:t.RecipientARMember}},computedActivityControls:function(){var t=this.activity,e=t.Type;"SongAdded"===e&&(e="Placement");'<ActivityUser :user="'.concat(this.computedUser,'"></ActivityUser>');var n=t.CommunityTag,o=[];return n.split("<").forEach((function(t){if(t.includes(">")){var e=t.split(">"),n=e[0];o.push({Type:"Control",Value:n}),""!=e[1].length&&o.push({Type:"Phrase",Value:e[1]})}else o.push({Type:"Phrase",Value:t})})),o}}),watch:{},methods:d(d({},Object(r.b)("app",["showModalWindow","getPlaylisterTiers","setSelectedPlaylister","setActiveTrack","setActivePanel","setIsActiveTrackPlaying"])),Object(r.b)("playlister",["setSelectedTrack"])),onActivityUserClicked:function(t){this.selectedPlaylister&&t.Id==this.selectedPlaylister.dbUserId||(t.dbUserId=t.Id,t.SpotifyUserId=t.SpotifyArtistId,this.setSelectedPlaylister(t))},onOpenPlaylist:function(){var t=this.activity;window.open("https://open.spotify.com/playlist/".concat(t.SpotifyPlaylistId))},onOpenArtist:function(){var t=this.activity;window.open("https://open.spotify.com/artist/".concat(t.SpotifyArtistId))},onTrackClicked:function(){window.open("https://open.spotify.com/track/".concat(activity.TrackId))}},m=(n(734),n(8)),component=Object(m.a)(l,(function(){var t=this,e=t._self._c;return t.doDisplay?e("div",{staticClass:"columns community-activity-container"},[e("div",{staticClass:"feed-avatar"},["playlister"===t.activity.UserType||"admin"===t.activity.UserType?e("div",{staticClass:"avatar",style:""!=t.computedUser.Image&&"NULL"!=t.computedUser.Image?"background-image: url("+t.computedUser.Image+")":null,on:{click:function(e){return e.stopPropagation(),t.onActivityUserClicked(t.computedUser)}}}):e("div",{staticClass:"avatar",style:""!=t.computedUser.Image&&"NULL"!=t.computedUser.Image?"background-image: url("+t.computedUser.Image+")":null,on:{click:function(e){return e.stopPropagation(),t.onOpenArtist()}}}),t._v(" "),t.computedRecipientUser.Id&&"0"!=t.computedRecipientUser.Id?e("div",{staticClass:"avatar avatar-recipient",style:""!=t.computedRecipientUser.Image&&"NULL"!=t.computedRecipientUser.Image?"background-image: url("+t.computedRecipientUser.Image+")":null,on:{click:function(e){return e.stopPropagation(),t.onActivityUserClicked(t.computedRecipientUser)}}}):t._e(),t._v(" "),t.computedChatIcon?e("div",{staticClass:"community-icon"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas",t.computedChatIcon]}})],1):t._e(),t._v(" "),e("div",{staticClass:"action-date"},[t._v("\n      "+t._s(t.activityDate)+"\n    ")])]),t._v(" "),e("div",{staticClass:"column flex"},[e("div",{staticClass:"activity"},[t._l(t.computedActivityControls,(function(n,o){return["Phrase"===n.Type?e("span",{key:"activity_"+t.activity.TransactionId+"_"+o},[t._v(t._s(n.Value))]):["Playlister"===n.Value?e("div",{key:"activity_"+t.activity.TransactionId+"_"+o,staticClass:"user-avatar"},[t._v("\n            AV\n          ")]):"Song"===n.Value?e("span",{key:"activity_"+t.activity.TransactionId+"_"+o,staticClass:"song-name",on:{click:function(e){return e.stopPropagation(),t.onTrackClicked()}}},[e("FontAwesomeIcon",{staticClass:"icon ext-link",attrs:{icon:["fas","play"]}}),t._v("'"+t._s(t.activity.Name)+"' ")],1):"Artist"===n.Value?e("span",{key:"activity_"+t.activity.TransactionId+"_"+o,staticClass:"artist-name",on:{click:function(e){return e.stopPropagation(),t.onOpenArtist()}}},[t._v("\n            "+t._s(t.activity.ArtistName)+" "),e("FontAwesomeIcon",{staticClass:"icon ext-link",attrs:{icon:["far","external-link-alt"]}})],1):"Playlist"===n.Value?e("span",{key:"activity_"+t.activity.TransactionId+"_"+o,staticClass:"playlist-name",on:{click:function(e){return e.stopPropagation(),t.onOpenPlaylist()}}},[t._v("\n            "+t._s(t.activity.PlaylistName)+" "),e("FontAwesomeIcon",{staticClass:"icon ext-link",attrs:{icon:["far","external-link-alt"]}})],1):"Rating"===n.Value?e("div",{key:"activity_"+t.activity.TransactionId+"_"+o},[t.activity.OverallRating>3?e("span",{staticClass:"note"},[e("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","quote-left"]}}),t._v(t._s(t.activity.Notes)),t.activity.Notes&&t.activity.Notes.length>80?e("FontAwesomeIcon",{staticClass:"icon-more",attrs:{icon:["fas","ellipsis-h"]}}):t._e(),e("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","quote-right"]}})],1):t._e()]):"UserName"===n.Value?e("span",{key:"activity_"+t.activity.TransactionId+"_"+o},["artist"===t.activity.UserType?e("span",{staticClass:"artist-name",on:{click:function(e){return e.stopPropagation(),t.onOpenArtist()}}},[t._v("\n              "+t._s(t.activity.UserName)+" "),e("FontAwesomeIcon",{staticClass:"icon ext-link",attrs:{icon:["far","external-link-alt"]}})],1):t._e()]):t._e()]]}))],2)]),t._v(" "),e("div",{staticClass:"cta"},[e("button",[e("FontAwesomeIcon",{attrs:{icon:["fas","ellipsis-v"]}})],1)])]):t._e()}),[],!1,null,"5e960fe2",null);e.default=component.exports},800:function(t,e,n){"use strict";n.r(e);n(41),n(32),n(31),n(11),n(55),n(23),n(56);var o=n(18),r=n(185),c=n(34);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"CommunityAd",components:{FontAwesomeIcon:r.a},props:{ad:Object,isOpen:Boolean},data:function(){return{now:null,isHovered:!1,thisPanel:{Id:11,Label:"Community"},activeTrack:null,isActiveTrackPlaying:!1}},computed:l(l(l(l({},Object(c.c)("user",["user"])),Object(c.c)("app",["playlisterTiers"])),Object(c.c)("playlister",["activeView"])),{},{computedTrack:function(){return l(l({},this.ad),{},{Image:this.ad.SongImage})},isThisTrackPlaying:function(){return!(!this.activeTrack||!this.isActiveTrackPlaying||this.ad.TrackId!=this.activeTrack.TrackId)}}),watch:{},mounted:function(){},methods:{onOpenPlaylist:function(){var t=this.activity;window.open("https://open.spotify.com/playlist/".concat(t.SpotifyPlaylistId))},onOpenArtist:function(){window.open("https://open.spotify.com/artist/".concat(ad.SpotifyArtistId))},onTrackClicked:function(){var t=this.ad;window.open("https://open.spotify.com/track/".concat(t.TrackId))}}},v=(n(736),n(738),n(8)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",{ref:"commmunityAd",staticClass:"column community-activity-container community-promotion",class:{hovered:t.isHovered||t.isOpen},on:{mouseenter:function(e){t.isHovered=!0},mouseleave:function(e){t.isHovered=!1}}},[e("div",{staticClass:"columns"},[t.ad.ArtistImage?[e("div",{staticClass:"bg-image",style:"background-image: url("+t.ad.ArtistImage+")"}),t._v(" "),e("div",{staticClass:"feed-avatar"},[e("div",{staticClass:"avatar",style:""!=t.ad.ArtistImage&&"NULL"!=t.ad.ArtistImage?"background-image: url("+t.ad.ArtistImage+")":null})])]:t._e(),t._v(" "),e("div",{staticClass:"column"},[e("label",{staticClass:"sponsored",attrs:{for:""}},[t._v("Promoted")]),t._v(" "),e("div",{staticClass:"info"},[e("span",[t._v("Check out ")]),t._v(" "),e("span",{staticClass:"song-name",on:{click:function(e){return e.stopPropagation(),t.onTrackClicked()}}},[e("FontAwesomeIcon",{staticClass:"icon ext-link",attrs:{icon:t.isThisTrackPlaying?["fas","pause"]:["fas","play"]}}),t._v("'"+t._s(t.ad.SongName)+"' ")],1),t._v(" "),e("span",[t._v(" from ")]),t._v(" "),e("span",{staticClass:"artist-name",on:{click:function(e){return e.stopPropagation(),t.onOpenArtist()}}},[t._v("\n          "+t._s(t.ad.ArtistName))])])])],2),t._v(" "),e("div",{staticClass:"column flex"},[t.ad.SongImage&&""!=t.ad.SongImage?e("div",{staticClass:"track-container"},[e("div",{staticClass:"track-cover",style:"background-image: url("+t.ad.SongImage+")",on:{click:function(e){return e.stopPropagation(),t.onTrackClicked()}}},[e("div",{staticClass:"roundbtn"},[""!=t.ad.SongPreviewURL?e("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:t.isThisTrackPlaying?["fas","pause"]:["fas","play"]}}):e("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fab","spotify"]}})],1)])]):t._e()]),t._v(" "),e("div",{staticClass:"column flex"},[e("transition",{attrs:{name:"fade"}},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.isHovered||t.isOpen,expression:"isHovered || isOpen"}],staticClass:"note"},[e("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","quote-left"]}}),t._v(t._s(t.ad.Description)),e("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","quote-right"]}})],1)])],1)])}),[],!1,null,"64db6b23",null);e.default=component.exports},845:function(t,e,n){"use strict";n(759)},846:function(t,e,n){var o=n(27)(!1);o.push([t.i,".panel-loading[data-v-6b8b0a18]{opacity:.5;color:#7e7e7e;padding-top:1rem}.panel-loading .loading-icon[data-v-6b8b0a18]{margin-right:10px}.community-content[data-v-6b8b0a18]{margin:0;flex:1;position:relative}.community-activity[data-v-6b8b0a18]{position:relative}.activity-list[data-v-6b8b0a18]{list-style:none;text-align:left;margin:1rem 0 0;padding:0 0 0 .5rem}",""]),t.exports=o},923:function(t,e,n){"use strict";n.r(e);n(41),n(32),n(55),n(56);var o=n(0),r=n(18),c=(n(15),n(80),n(31),n(11),n(86),n(23),n(188),n(65),n(185),n(34));function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"CommunityFeed",props:{},data:function(){return{activities:[],interstedActivitiesCount:0,loading:!1,adsLoaded:!1,adSpacing:8,communityAds:[]}},computed:l(l(l({},Object(c.c)("user",["user"])),Object(c.c)("app",["playlisterTiers","appSettings","settings"])),Object(c.c)("playlister",["selectedTrack"])),watch:{user:function(){this.user&&this.user.Id&&!this.loading&&this.initCommunityModule()},appSettings:function(){this.appSettings&&this.appSettings.MaxCommunitySpots&&!this.adsLoaded&&this.activities.length>0&&this.InitCommunityAds()}},methods:l(l({},Object(c.b)("playlister",["setSelectedTrack"])),{},{isAdOpen:function(t){return this.communityAds.length>0&&this.communityAds[0].TrackId===t.TrackId},computedActivityItem:function(t){var e="",n='<ActivityUser :user="'.concat(this.computedUser(t),'"></ActivityUser>');switch(t.Type){case"SongAdded":e+="".concat(n," placed '").concat(t.Name,"' by ").concat(t.ArtistName," in ").concat(t.PlaylistName);break;case"RadarAdded":e+="".concat(n," added  '").concat(t.Name,"' by ").concat(t.ArtistName," to Playlister.club Radar");break;case"Placement":e+="".concat(t.Name,"' by ").concat(t.ArtistName," was placed in ").concat(t.PlaylistName," by ").concat(n);break;case"Review":e+="".concat(t.Name,"' by ").concat(t.ArtistName," was reviewed by ").concat(n);break;case"Listen":default:e+="".concat(n," listened to  '").concat(t.Name,"' by ").concat(t.ArtistName);break;case"TradeProposal":e+="".concat(n," traded  '").concat(t.Name,"' by ").concat(t.ArtistName," with ").concat(t.UserName)}return e},computedActivityMessage:function(t){var e="";switch(t.Type){case"SongAdded":case"Placement":e+="Placed by ";break;case"RadarAdded":e+="Radared by ";break;case"Review":e+="Reviewed by ";break;case"Listen":default:e+="Listened by ";break;case"TradeProposal":e+="Traded by "}return e},computedChatIcon:function(t){var e;switch(t.Type){case"SongAdded":case"Placement":e="map-marker-plus";break;case"Review":e="analytics";break;case"RadarAdded":e="radar";break;default:e="headphones"}return e},recentlyActive:function(t){var e=!1;return this.activities.filter((function(e){return Number(e.Userid)===t})).length>0&&(e=!0),e},loadCommunityAds:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.app.getCommunityAds(t);case 3:return(o=n.sent).forEach((function(t){t.Type="CommunityAd"})),n.abrupt("return",o);case 8:return n.prev=8,n.t0=n.catch(0),console.warn(n.t0),n.abrupt("return",null);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()},InitCommunityAds:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.adsLoaded){e.next=17;break}if(n=null,t.appSettings&&t.appSettings.MaxCommunitySpots&&(n=Number(t.appSettings.MaxCommunitySpots)),!n){e.next=17;break}return t.adsLoaded=!0,e.prev=5,e.next=8,t.loadCommunityAds(n);case 8:for(o=e.sent,t.communityAds=o,i=0;i<o.length;i++)t.activities.splice(i*t.adSpacing,0,o[i]);e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.warn(e.t0),t.adsLoaded=!1;case 17:case"end":return e.stop()}}),e,null,[[5,13]])})))()},insertSponsor:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.loadCommunityAds(1);case 3:(n=e.sent).length>0&&n[0].TrackId&&(0!==t.communityAds.length&&n[0].TrackId==t.communityAds[0].TrackId||(t.activities.splice(0,0,n[0]),t.communityAds.unshift(n[0]))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},checkActivity:function(t){var e=this,n=JSON.parse(t);try{if(void 0!==n&&this.user&&Number(n.Userid)!=Number(this.user.Id)&&Number(n.RecipientUserId)!=Number(this.user.Id)&&n.Type&&"Chat"!=n.Type&&"label"!=n.UserType){var o=e.activities.map((function(t){return Number(t.Userid)})).indexOf(Number(n.Userid));e.activities.map((function(t){return t.Type})).indexOf("CommunityAd")>this.adSpacing&&this.insertSponsor(),o>-1?"Listen"!=n.Type&&"SpotifyListen"!=n.Type&&(e.activities.splice(o,1),e.activities.unshift(n)):e.activities.unshift(n)}}catch(e){console.warn(e),console.warn("error processing activity",t,n)}},initCommunityModule:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t).user||!n.user.Id||n.loading){e.next=19;break}return n.loading=!0,o=n.user.Id,e.prev=4,e.next=7,t.$api.user.getUserInteractions(o,70,"communitynew");case 7:r=(r=e.sent).filter((function(t){return"label"!=t.UserType})),n.activities=r,n.adsLoaded=!1,n.InitCommunityAds(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.warn(e.t0);case 17:e.next=19;break;case 19:case"end":return e.stop()}}),e,null,[[4,14]])})))()}}),beforeMount:function(){this.playlisterTiers||this.getPlaylisterTiers()},mounted:function(){this.initCommunityModule()},beforeDestroy:function(){}},v=(n(845),n(8)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"community-content"},[t.activities&&t.activities.length>0?e("div",{staticClass:"song-chat scroller"},[e("ul",{staticClass:"activity-list"},[t._l(t.activities,(function(n,o){return["CommunityAd"!=n.Type&&"label"!=n.UserType?e("li",{key:n.TransactionId,staticClass:"community-activity"},[""!=n.Name||"SignUp"===n.Type?e("CommunityActivity",{key:"comm-activity_"+n.TransactionId,attrs:{activity:n}}):t._e()],1):t._e(),t._v(" "),"CommunityAd"===n.Type?e("li",{key:n.TrackId+"_sponsored_"+o,staticClass:"community-ad"},[e("CommunityAd",{key:n.TrackId+"_sponsor_ad",ref:"CommunitySponsor",refInFor:!0,staticClass:"community-sponsor",attrs:{ad:n,"is-open":t.isAdOpen(n)}})],1):t._e()]}))],2)]):e("div",{staticClass:"song-chat scroller"},[e("div",{staticClass:"panel-loading"},[e("font-awesome-icon",{staticClass:"loading-icon fa-spin",attrs:{icon:["fas","compact-disc"]}}),t._v(" "),e("label",[t._v(" Loading...")])],1)])])}),[],!1,null,"6b8b0a18",null);e.default=component.exports;installComponents(component,{CommunityActivity:n(799).default,CommunityAd:n(800).default})}}]);