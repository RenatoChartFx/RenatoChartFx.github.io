(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{630:function(t,e,o){var content=o(741);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(28).default)("68a9d977",content,!0,{sourceMap:!1})},740:function(t,e,o){"use strict";o(630)},741:function(t,e,o){var n=o(27)(!1);n.push([t.i,".play-toggle[data-v-c2c70b04]{background:rgba(222,226,224,.5);border-radius:1000px;width:50%;max-width:64px;aspect-ratio:1/1;display:flex;flex-flow:column nowrap;align-items:center;align-content:center;justify-content:center;place-content:center;cursor:pointer}.play-toggle[data-v-c2c70b04]:hover{background-color:#2ec4b6}.play-toggle .icon[data-v-c2c70b04]{flex-grow:1;max-width:24px}",""]),t.exports=n},801:function(t,e,o){"use strict";o.r(e);var n={name:"SongCover",props:{song:{type:Object,default:function(){}}},data:function(){return{audioPlayer:void 0,isLoaded:!1,currentSeconds:0,progressPercentageValue:0}},computed:{isPlaying:{get:function(){return this.$store.getters["app/isSongPlaying"]},set:function(t){this.$store.dispatch("app/onSetIsSongPlaying",t)}},selectedSong:function(){return this.$store.getters["artist/selectedSong"]},playToggleIcon:function(){return this.isPlaying?["fas","pause"]:["fas","play"]},canPlay:function(){return!!this.song.PreviewUrl},defaultSong:function(){return this.song.PreviewUrl||null}},watch:{selectedSong:function(){this.isPlaying=!1}},mounted:function(){this.isPlaying=!1,this.audioPlayer=this.$refs.audiofile,this.audioPlayer&&(this.audioPlayer.addEventListener("pause",this.onUpdateToPause),this.audioPlayer.addEventListener("play",this.onUpdateToPlay))},beforeDestroy:function(){this.audioPlayer=this.$refs.audiofile,this.audioPlayer&&(this.audioPlayer.removeEventListener("pause",this.onUpdateToPause),this.audioPlayer.removeEventListener("play",this.onUpdateToPlay)),this.audioPlayer=null},created:function(){var t=this;this.$nuxt.$on("onTogglePlay",(function(){t.song&&t.selectedSong&&t.song.TrackId==t.selectedSong.TrackId&&(t.canPlay?t.play():t.onOpenInSpotify())}))},methods:{onUpdateToPause:function(){this.isPlaying=!1},onUpdateToPlay:function(){this.isPlaying=!0},play:function(){this.audioPlayer&&(this.isPlaying?this.pause():(this.audioPlayer.play(),this.isPlaying=!0))},stop:function(){this.audioPlayer.currentTime=0},load:function(){console.log("loaded")},pause:function(){this.audioPlayer.pause(),this.isPlaying=!1},onOpenInSpotify:function(){window.open("https://open.spotify.com/track/"+this.song.TrackId)},updateTimer:function(){this.currentSeconds=parseInt(this.audioPlayer.currentTime),this.progressPercentageValue=(this.currentSeconds/parseInt(this.audioPlayer.duration)*100||0)+"%"},onToggleTrackPlay:function(){this.play()}}},r=(o(740),o(8)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"cover position-relative"},[e("img",{staticClass:"float-end song-cover ms-auto border border-4 shadow rounded border-light w-100",attrs:{src:t.song.Image,alt:t.song.Name?t.song.Name+" Cover":null}}),t._v(" "),t.canPlay?e("div",{staticClass:"play-toggle position-absolute top-50 start-50 translate-middle",on:{click:function(e){return e.stopPropagation(),t.onToggleTrackPlay()}}},[e("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:t.playToggleIcon}})],1):e("div",{staticClass:"play-toggle position-absolute top-50 start-50 translate-middle",on:{click:function(e){return e.stopPropagation(),t.onOpenInSpotify()}}},[e("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fab","spotify"]}})],1),t._v(" "),e("div",{staticClass:"bottom-0 start-0 end-0 position-absolute"},[e("div",{staticClass:"position-relative progress",staticStyle:{height:"4px"}},[e("div",{key:"progress"+t.progressPercentageValue,staticClass:"progress-bar bg-primary",style:"width:"+t.progressPercentageValue,attrs:{role:"progressbar","aria-valuenow":t.progressPercentageValue,"aria-valuemin":"0","aria-valuemax":"100"}})])]),t._v(" "),e("audio",{key:"track_"+t.song.TrackId||!1,ref:"audiofile",staticStyle:{display:"none"},attrs:{src:t.defaultSong,preload:"",controls:""},on:{timeupdate:t.updateTimer}})])}),[],!1,null,"c2c70b04",null);e.default=component.exports}}]);