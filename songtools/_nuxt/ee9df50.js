(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{627:function(t,e,n){var content=n(735);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("d4cd9ade",content,!0,{sourceMap:!1})},734:function(t,e,n){"use strict";n(627)},735:function(t,e,n){var o=n(27)(!1);o.push([t.i,".community-activity-container[data-v-5e960fe2]{font-size:.85rem;line-height:1.5rem;padding:.5rem;color:#b7b7b7}.community-activity-container .cta[data-v-5e960fe2]{display:none;opacity:0;transition:opacity 40ms ease-in}.community-activity-container .cta button[data-v-5e960fe2]{background-color:transparent}.community-activity-container[data-v-5e960fe2]:hover{background-color:rgba(245,245,244,.05)}.community-activity-container:hover .cta[data-v-5e960fe2]{opacity:1}.community-activity-container .feed-avatar[data-v-5e960fe2]{position:relative;width:50px}.community-activity-container .feed-avatar .avatar[data-v-5e960fe2]{width:30px;height:30px;border-radius:100px;border:2px solid #4b4b4b;background-size:cover;position:relative;z-index:1;cursor:pointer}.community-activity-container .feed-avatar .avatar[data-v-5e960fe2]:hover{z-index:999;border-color:#f5f5f4}.community-activity-container .feed-avatar .avatar-recipient[data-v-5e960fe2]{position:absolute;top:10px;left:10px}.community-activity-container .action-date[data-v-5e960fe2]{opacity:.4;align-self:flex-start;padding:.5rem 0 0;font-size:.6rem;text-align:left}.community-activity-container .community-icon[data-v-5e960fe2]{position:absolute;top:18px;z-index:2;left:-3px;color:#181818;background-color:hsla(0,0%,44.3%,.7);border-radius:100px;text-align:center;height:12px;width:12px;display:flex;flex-flow:column nowrap;align-content:center;align-items:center;justify-content:center;padding:4px}.community-activity-container .community-icon .icon[data-v-5e960fe2]{margin:0;padding:0}.community-activity-container .activity[data-v-5e960fe2]{line-height:175%}.community-activity-container .activity .span[data-v-5e960fe2]{display:inline-block}.community-activity-container .note[data-v-5e960fe2]{color:hsla(0,0%,91.8%,.5);font-style:italic;padding:.5rem .75rem .5rem .5rem;border-radius:5px;background-color:rgba(24,24,24,.1);font-size:.75rem;line-height:1rem;height:auto;max-height:2.5rem;transition:all 1s ease-out;overflow:hidden;text-overflow:ellipsis;display:inline-block;position:relative}.community-activity-container .note .icon-more[data-v-5e960fe2]{position:absolute;bottom:0;right:3px}.community-activity-container .note[data-v-5e960fe2]:hover{max-height:none;height:auto}.community-activity-container .note:hover .icon-more[data-v-5e960fe2]{display:none}.community-activity-container .note .icon[data-v-5e960fe2]{font-size:.8rem;margin:0;color:#4b4b4b}.community-activity-container .note .icon[data-v-5e960fe2]:first-child{margin-right:5px}.community-activity-container .note .icon[data-v-5e960fe2]:last-child{margin-left:5px}.community-activity-container .ext-link[data-v-5e960fe2]{color:#4b4b4b;margin:0 5px 0 2px;font-size:12px}.community-activity-container .song-name[data-v-5e960fe2]{font-style:italic;background-color:rgba(24,24,24,.2);border-radius:100px;padding:0 3px;margin:0 3px}.community-activity-container .artist-name[data-v-5e960fe2],.community-activity-container .playlist-name[data-v-5e960fe2],.community-activity-container .song-name[data-v-5e960fe2]{font-weight:500;display:inline;cursor:pointer}.community-activity-container .artist-name[data-v-5e960fe2]:hover,.community-activity-container .playlist-name[data-v-5e960fe2]:hover,.community-activity-container .song-name[data-v-5e960fe2]:hover{text-decoration:underline}",""]),t.exports=o},799:function(t,e,n){"use strict";n.r(e);n(41),n(32),n(31),n(55),n(56);var o=n(18),c=(n(11),n(73),n(54),n(59),n(39),n(72),n(137),n(23),n(185),n(34));function r(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):r(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"CommunityActivity",components:{},props:{activity:Object},data:function(){return{now:null}},computed:l(l(l({},Object(c.c)("user",["user"])),Object(c.c)("app",["playlisterTiers","selectedPlaylister"])),{},{activityDate:function(){var t=this.activity.CreatedOn.toString();t.includes("PM")&&(t.includes(" PM")||(t=t.replace("PM"," PM"))),t.includes("AM")&&(t.includes(" AM")||(t=t.replace("AM"," AM")));var e=new Date(Date.parse(t));this.now||(this.now=new Date);var n=new Date(this.now.valueOf()+6e4*this.now.getTimezoneOffset());navigator.userAgent.match(/MSIE\s([^;]*)/)&&(e=Date.parse(t.replace(/( \+)/," UTC$1")));var o=Math.floor((n-e)/1e3);return o<5?"just now":o<60?"".concat(o,"s ago"):o<=3540?"".concat(Math.round(o/60),"m ago"):o<=86400?"".concat(Math.round(o/3600),"h ago"):o<604800?"".concat(Math.round(o/86400),"d ago"):o<=777600?"1w ago":o<=12441600?"".concat(Math.ceil(o/604800),"w ago"):e.toLocaleDateString()},doDisplay:function(){var t=this,e=!0;return t.activity.CommunityTag&&""!==t.activity.CommunityTag||(e=!1),"SignUp"===t.activity.Type&&""===t.activity.UserName&&(e=!1),e},computedChatIcon:function(){var t=null;switch(this.activity.Type){case"SongAdded":case"Placement":t="map-marker-plus";break;case"Review":t="analytics";break;case"RadarAdded":t="radar";break;case"Listen":default:t="headphones";break;case"Trade":case"TradeProposal":t="exchange-alt";break;case"SignUp":t="user-plus"}return t},computedUser:function(){var t=this.activity;return{Image:t.UserAvatar,Id:t.Userid,Followers:t.UserFollowers,SpotifyArtistId:t.SpotifyPlaylisterId,UserTier:t.UserTier,Name:t.UserName,ARMember:t.ARMember}},computedSignUpUser:function(){var t=this.activity;return{Image:t.UserAvatar,Id:t.Userid,Followers:t.UserFollowers,SpotifyArtistId:t.SpotifyPlaylisterId,Name:t.UserName,UserTier:t.UserTier,ARMember:t.ARMember}},computedRecipientUser:function(){var t=this.activity;return{Image:t.RecipientUserAvatar,Id:t.RecipientUserId,Followers:t.RecipientFollowers,SpotifyArtistId:t.RecipientSpotifyPlaylisterId,UserTier:t.RecipientUserTier,Name:t.RecipientUserName,ARMember:t.RecipientARMember}},computedActivityControls:function(){var t=this.activity,e=t.Type;"SongAdded"===e&&(e="Placement");'<ActivityUser :user="'.concat(this.computedUser,'"></ActivityUser>');var n=t.CommunityTag,o=[];return n.split("<").forEach((function(t){if(t.includes(">")){var e=t.split(">"),n=e[0];o.push({Type:"Control",Value:n}),""!=e[1].length&&o.push({Type:"Phrase",Value:e[1]})}else o.push({Type:"Phrase",Value:t})})),o}}),watch:{},methods:l(l({},Object(c.b)("app",["showModalWindow","getPlaylisterTiers","setSelectedPlaylister","setActiveTrack","setActivePanel","setIsActiveTrackPlaying"])),Object(c.b)("playlister",["setSelectedTrack"])),onActivityUserClicked:function(t){this.selectedPlaylister&&t.Id==this.selectedPlaylister.dbUserId||(t.dbUserId=t.Id,t.SpotifyUserId=t.SpotifyArtistId,this.setSelectedPlaylister(t))},onOpenPlaylist:function(){var t=this.activity;window.open("https://open.spotify.com/playlist/".concat(t.SpotifyPlaylistId))},onOpenArtist:function(){var t=this.activity;window.open("https://open.spotify.com/artist/".concat(t.SpotifyArtistId))},onTrackClicked:function(){window.open("https://open.spotify.com/track/".concat(activity.TrackId))}},y=(n(734),n(8)),component=Object(y.a)(d,(function(){var t=this,e=t._self._c;return t.doDisplay?e("div",{staticClass:"columns community-activity-container"},[e("div",{staticClass:"feed-avatar"},["playlister"===t.activity.UserType||"admin"===t.activity.UserType?e("div",{staticClass:"avatar",style:""!=t.computedUser.Image&&"NULL"!=t.computedUser.Image?"background-image: url("+t.computedUser.Image+")":null,on:{click:function(e){return e.stopPropagation(),t.onActivityUserClicked(t.computedUser)}}}):e("div",{staticClass:"avatar",style:""!=t.computedUser.Image&&"NULL"!=t.computedUser.Image?"background-image: url("+t.computedUser.Image+")":null,on:{click:function(e){return e.stopPropagation(),t.onOpenArtist()}}}),t._v(" "),t.computedRecipientUser.Id&&"0"!=t.computedRecipientUser.Id?e("div",{staticClass:"avatar avatar-recipient",style:""!=t.computedRecipientUser.Image&&"NULL"!=t.computedRecipientUser.Image?"background-image: url("+t.computedRecipientUser.Image+")":null,on:{click:function(e){return e.stopPropagation(),t.onActivityUserClicked(t.computedRecipientUser)}}}):t._e(),t._v(" "),t.computedChatIcon?e("div",{staticClass:"community-icon"},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas",t.computedChatIcon]}})],1):t._e(),t._v(" "),e("div",{staticClass:"action-date"},[t._v("\n      "+t._s(t.activityDate)+"\n    ")])]),t._v(" "),e("div",{staticClass:"column flex"},[e("div",{staticClass:"activity"},[t._l(t.computedActivityControls,(function(n,o){return["Phrase"===n.Type?e("span",{key:"activity_"+t.activity.TransactionId+"_"+o},[t._v(t._s(n.Value))]):["Playlister"===n.Value?e("div",{key:"activity_"+t.activity.TransactionId+"_"+o,staticClass:"user-avatar"},[t._v("\n            AV\n          ")]):"Song"===n.Value?e("span",{key:"activity_"+t.activity.TransactionId+"_"+o,staticClass:"song-name",on:{click:function(e){return e.stopPropagation(),t.onTrackClicked()}}},[e("FontAwesomeIcon",{staticClass:"icon ext-link",attrs:{icon:["fas","play"]}}),t._v("'"+t._s(t.activity.Name)+"' ")],1):"Artist"===n.Value?e("span",{key:"activity_"+t.activity.TransactionId+"_"+o,staticClass:"artist-name",on:{click:function(e){return e.stopPropagation(),t.onOpenArtist()}}},[t._v("\n            "+t._s(t.activity.ArtistName)+" "),e("FontAwesomeIcon",{staticClass:"icon ext-link",attrs:{icon:["far","external-link-alt"]}})],1):"Playlist"===n.Value?e("span",{key:"activity_"+t.activity.TransactionId+"_"+o,staticClass:"playlist-name",on:{click:function(e){return e.stopPropagation(),t.onOpenPlaylist()}}},[t._v("\n            "+t._s(t.activity.PlaylistName)+" "),e("FontAwesomeIcon",{staticClass:"icon ext-link",attrs:{icon:["far","external-link-alt"]}})],1):"Rating"===n.Value?e("div",{key:"activity_"+t.activity.TransactionId+"_"+o},[t.activity.OverallRating>3?e("span",{staticClass:"note"},[e("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","quote-left"]}}),t._v(t._s(t.activity.Notes)),t.activity.Notes&&t.activity.Notes.length>80?e("FontAwesomeIcon",{staticClass:"icon-more",attrs:{icon:["fas","ellipsis-h"]}}):t._e(),e("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:["fas","quote-right"]}})],1):t._e()]):"UserName"===n.Value?e("span",{key:"activity_"+t.activity.TransactionId+"_"+o},["artist"===t.activity.UserType?e("span",{staticClass:"artist-name",on:{click:function(e){return e.stopPropagation(),t.onOpenArtist()}}},[t._v("\n              "+t._s(t.activity.UserName)+" "),e("FontAwesomeIcon",{staticClass:"icon ext-link",attrs:{icon:["far","external-link-alt"]}})],1):t._e()]):t._e()]]}))],2)]),t._v(" "),e("div",{staticClass:"cta"},[e("button",[e("FontAwesomeIcon",{attrs:{icon:["fas","ellipsis-v"]}})],1)])]):t._e()}),[],!1,null,"5e960fe2",null);e.default=component.exports}}]);